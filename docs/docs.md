# Справочное руководство по работе с сервисом Employee
 
## О сервисе 

Сервис представляет собой веб-приложение для работы с данными сотрудников. К сервису могут обращаться пользователи веб-приложения и другие сервисы. Сервис многопользовательский с разграничением доступа к данным. Пользователю А недоступны данные, которые вносил пользователь Б. Полученные данные используются для формирования отчетов и информационных сообщений о представительстве (СоП).

Разработка сервиса позволила решить проблему несогласованности данных о сотрудниках, которая возникала из-за необходимости вручную дублировать данные о каждом сотруднике для каждой организации.

Сущности в системе:

1. Сотрудник (Person) — основная сущность, содержит данные о сотруднике.
1. Должность (Position) — должность сотрудника в конкретной организации. Один сотрудник в одной организации может занимать только одну должность.
1. Роль (Role)  — данные о том, какую задачу выполняет сотрудник. У сотрудника могут быть роли в разных организациях. Сушествуют 4 роли: Руководитель, Главный бухгалтер, Уполномоченный представитель (отправитель), индивидуальный предприниматель.

_<Вопрос к тем, кто будет смотреть тестовое: кстати, откуда ограничение "в одной организации может занимать только одну должноcть"? Можно же работать на полставки на одной должности, еще на половину ставки на другой в одной организации>_

## Доступные методы для работы с сущностями системы
Для работы с сущностями системы доступны следующие методы:
1. Создание записи о сотруднике.
2. Удаление записи о сотруднике.
3. Получение списка сотрудников, созданных пользователем.
4. Получение списка ролей сотрудника.
5. Создание роли.
6. Получение списка ролей в организации.
7. Получение списка ролей сотрудника в разрезе организаций.
8. Удаление роли.
9. Удаление всех ролей.
10. Создание должности.


### Метод создания записи о сотруднике

Вы можете добавить запись с данными сотрудника в систему с помощью запроса к публичному API или с помощью SDK. Ниже описан запрос к публичному API.

#### Метод и URL запроса:
```
POST <Корневой URL API>/person/{PersonId}
```
URL запроса содержит path-параметр `PersonId` (идентификатор сотрудника) с типом данных `string`.

#### Параметры тела запроса

| Параметр | Обязательный | Тип (формат) | Описание |
|----------|--------------|--------------|----------|
| **Guid** | Да | `string` (`UUID`) | Уникальный идентификатор сотрудника в формате GUID |
| **FullName** | Да | `JSON object` | Объект с полным именем сотрудника _<Комментарий для тех, кто будет смотреть тестовое: нужно было бы запросить информацию о структуре объекта>_|
| **InnFl** | Нет | `string` | ИНН физического лица |
| **Gender** | Нет | `string` | Пол сотрудника. Возможные значения: _<Комментарий для тех, кто будет смотреть тестовое: нужно было бы уточнить возможные значения>_  |
| **Citizenship** | Нет | `string` | Гражданство сотрудника |
| **BirthDate** | Нет | `string` (`dateformat`) | Дата рождения сотрудника в формате ... _<Комментарий для тех, кто будет смотреть тестовое: нужно было бы запросить информацию о формате>_ |
| **BirthPlace** | Нет | `string` | Место рождения сотрудника |
| **Phone** | Нет | `string` | Номер телефона сотрудника |
| **Email** | Нет | `string` | Адрес электронной почты сотрудника |
| **RegistrationAddress** | Нет | `JSON object` | Адрес регистрации сотрудника _<Комментарий для тех, кто будет смотреть тестовое: нужно было бы запросить информацию о структуре объекта>_ |
| **IdentityCard** | Нет | `JSON object` | Данные документа, удостоверяющего личность _<Комментарий для тех, кто будет смотреть тестовое: нужно было бы запросить информацию о структуре объекта>_|
| **ForeignAddress** | Нет | `string` | Зарубежный адрес сотрудника |

В ответ на успешный запрос сервис возвращает пустое сообщение с кодом 200 OK.
В ответ на неуспешный запрос сервис возвращает пустое сообщение с кодом ошибки.

Возможные коды ошибок:
_<Комментарий для тех, кто будет смотреть тестовое: нужно уточнять у разработчиков, предоставленной информации недостаточно>_


#### Пример запроса:
```
POST https://kontur.example.com/api/v1/person/123e4567-e89b-12d3-a456-426614174000
```


**Тело запроса:**
```json
{
  "Guid": "123e4567-e89b-12d3-a456-426614174000",
  "FullName": {
   ...
  },
  "InnFl": "123456789012",
  "Citizenship": "Российская Федерация",
  "BirthPlace": "г. Москва",
  "Phone": "+79990000000",
  "Email": "ivanov@example.com"
}
```
